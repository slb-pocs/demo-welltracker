<div>
    <mat-card class="example-card" appearance="outlined">
        <mat-card-header>

            <mat-card-title style="margin-bottom: 6%;">
                key Components
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>

            <!-----------------------------------------TABLE------------------------------------------------------->
            <mat-card style="margin-top: 2%;">
                <table mat-table [dataSource]="questionnaireList" class="mat-elevation-z8 demo-table">

                    <ng-container matColumnDef="Key-Component">
                        <th mat-header-cell *matHeaderCellDef>Key-Component</th>
                        <td mat-cell *matCellDef="let element">
                            Isolation Valve Key Component
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Part-Number">
                        <th mat-header-cell *matHeaderCellDef>Part Number</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.isolationValveKeyComponent?.installedEquipment?.catalogPartNumber}} </td>
                    </ng-container>

                    <ng-container matColumnDef="Serial">
                        <th mat-header-cell *matHeaderCellDef>Serial</th>
                        <td mat-cell *matCellDef="let element">
                            {{element.isolationValveKeyComponent?.installedEquipment?.serial}} </td>
                    </ng-container>



                    <ng-container matColumnDef="Action">
                        <th mat-header-cell *matHeaderCellDef>Action</th>
                        <td style="width: 150px;" mat-cell *matCellDef="let element">
                            <button mat-icon-button (click)="OnClickQuestionnaireItem(element.id)">
                                <mat-icon color="primary">edit</mat-icon>
                            </button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="columns"></tr>
                    <tr mat-row *matRowDef="let row; columns: columns"></tr>
                </table>
            </mat-card>

            <!-- ----------------------------------------FORM---------------------------------- -->
            <div *ngIf="questionnaire.id!=0">
                <mat-card-title style="margin-top: 3%;margin-bottom: 2%;">
                    Questionnaire
                </mat-card-title>

                <table>
                    <thead>
                        <tr>
                            <th>Performance question</th>
                            <th>Successful on first attempt?</th>
                            <th>Quest link</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><mat-label> </mat-label> </td>
                            <td><mat-label> </mat-label>   </td>
                            <td><mat-label> </mat-label>   </td>
                        </tr>

                        <!-- ---------------------------------------Question 1--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Visual and Dimensional Inspection (Workshop):
                                    was the valve received as-ordered and damage free?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question1FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink1FormControl">
                                </mat-form-field>
                            </td>
                        </tr>
                        <!-- ---------------------------------------Question 2-------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Shifting Test (Workshop): did the valve shift freely and as-expected?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question2FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink2FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 3--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Internal Chamber Pressure Test (Workshop): 
                                    did the valve seal as required for N2, hydraulic and atmospheric pressure?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question3FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink3FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 4-------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Body and Barrier Test (Workshop): did the valve seal across body and barrier seals?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question4FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink4FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 5--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Cycling Test (Workshop): did the valve pass the trip-saver position verification?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question5FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink5FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 6--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Drift Test (Workshop): did the valve meet drift requirements with no obstructions?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question6FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink6FormControl">
                                </mat-form-field>
                            </td>
                        </tr>
                        <!-- ---------------------------------------Question 7--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Internal Pressure Test (Wellsite): did the valve seal N2 and hydraulic pressure?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question7FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink7FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 8--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Rotary Test (Wellsite): did the valve pass the Functional Test and Hydraulic Holds?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question8FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink8FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 9--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    (Wellsite): was the barrier shifted closed?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question9FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink9FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 10--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    Downhole Barrier Pressure Test (Wellsite): did the valve hold pressure once closed?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question10FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink10FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 11--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    (Wellsite): was a dedicated clean-up trip done?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question11FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink11FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                        <!-- ---------------------------------------Question 12--------------------------------------------->
                        <tr>
                            <td style="max-width: 500px;">
                                <mat-label style="max-width:200px;">
                                    (Wellsite): did the valve open as expected (on the expected cycle)?
                                </mat-label>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" class="mat-form-field" style="width: 300px;">
                                    <mat-label>Successful on first attempt?</mat-label>
                                    <mat-select [formControl]="question12FormControl">
                                        <mat-option *ngFor="let item of answerList" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field appearance="outline" style="width: 350px;">
                                    <mat-label> Queslink</mat-label>
                                    <input matInput [formControl]="questlink12FormControl">
                                </mat-form-field>
                            </td>
                        </tr>

                    </tbody>
                </table>

                <div style="margin-top: 2%;">
                    <button mat-stroked-button class="primary-action-button" (click)="Save()">Save</button>
                    <button mat-stroked-button class="secondary-action-button" (click)="ClearFields()">Cancel</button>
                </div>
            </div>

        </mat-card-content>
    </mat-card>
</div>